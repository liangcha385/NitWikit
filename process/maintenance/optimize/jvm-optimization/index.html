<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-process/maintenance/optimize/jvm-optimization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">JVM 优化 | 笨蛋 MC 开服教程</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yizhan.wiki/NitWikit/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yizhan.wiki/NitWikit/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yizhan.wiki/NitWikit/process/maintenance/optimize/jvm-optimization"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="开服教程" content="一群笨蛋们写的 Minecraft 开服教程"><meta data-rh="true" name="MC教程" content="一群笨蛋们写的 Minecraft 开服教程"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JVM 优化 | 笨蛋 MC 开服教程"><meta data-rh="true" name="description" content="参数"><meta data-rh="true" property="og:description" content="参数"><link data-rh="true" rel="icon" href="/NitWikit/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yizhan.wiki/NitWikit/process/maintenance/optimize/jvm-optimization"><link data-rh="true" rel="alternate" href="https://yizhan.wiki/NitWikit/process/maintenance/optimize/jvm-optimization" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://yizhan.wiki/NitWikit/process/maintenance/optimize/jvm-optimization" hreflang="x-default"><link rel="stylesheet" href="/NitWikit/assets/css/styles.6576824c.css">
<script src="/NitWikit/assets/js/runtime~main.c749f648.js" defer="defer"></script>
<script src="/NitWikit/assets/js/main.3db79946.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/NitWikit/"><div class="navbar__logo"><img src="/NitWikit/img/book.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/NitWikit/img/book.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NitWikit</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/NitWikit/intro">开始</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/postyizhan/NitWikit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/NitWikit/process/maintenance/optimize/jvm-optimization"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/NitWikit/process/maintenance/optimize/jvm-optimization" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/NitWikit/intro">笨蛋开服教程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/preparation">准备工作</a><button aria-label="展开侧边栏分类 &#x27;准备工作&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/start">开始阶段</a><button aria-label="展开侧边栏分类 &#x27;开始阶段&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/NitWikit/process">建设阶段</a><button aria-label="折叠侧边栏分类 &#x27;建设阶段&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/NitWikit/process/mobile-player/">手机玩家支持</a><button aria-label="展开侧边栏分类 &#x27;手机玩家支持&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/NitWikit/Plugin">插件</a><button aria-label="展开侧边栏分类 &#x27;插件&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/NitWikit/maintenance">服务器维护</a><button aria-label="折叠侧边栏分类 &#x27;服务器维护&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/NitWikit/optimize">优化</a><button aria-label="折叠侧边栏分类 &#x27;优化&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/optimize/go">调服务端配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/optimize/storage-space-optimization">储存空间优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/optimize/performance-analysis">性能分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/optimize/optimized-plugin">优化误区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/optimize/ask-for-help">怎么让大佬帮我性能分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/NitWikit/process/maintenance/optimize/jvm-optimization">JVM 优化</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/NitWikit/anticheat">反作弊</a><button aria-label="展开侧边栏分类 &#x27;反作弊&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/backup">备份</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/how-to-defend-against-cyber-attacks">如何抵御网络攻击</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/how-to-troubleshoot-problematic-plugins">如何排除有问题的插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/process/maintenance/how-to-prevent-crash-server">如何预防崩服</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/advance">进阶教程</a><button aria-label="展开侧边栏分类 &#x27;进阶教程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/contribution">文档贡献</a><button aria-label="展开侧边栏分类 &#x27;文档贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/NitWikit/love">相亲墙</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/NitWikit/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/process"><span itemprop="name">建设阶段</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/maintenance"><span itemprop="name">服务器维护</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/optimize"><span itemprop="name">优化</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JVM 优化</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>JVM 优化</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参数">参数<a class="hash-link" aria-label="参数的直接链接" title="参数的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#参数"> ​</a></h2>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>危险</div><div class="admonitionContent_BuS1"><p>所有的启动参数都必须被放在 <code>-jar</code> 前面否则会导致服务器无法启动</p></div></div>
<p>以下是推荐的 JVM 优化参数(至少 Java 17 以上)</p>
<p><strong>以下启动参数需要自己补全内存分配(-Xms 和 -Xmx) 和 服务端核心名(-jar 服务端名字.jar)</strong></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Mukul1127 Flag (ZGC) Plus - 4 核 8G 以上推荐</summary><div><div class="collapsibleContent_i85q"><p>Mukul1127 Flag Plus 是现代的启动参数，使用 ZGC 作为垃圾回收，<strong>注意<!-- -->:Mukul1127<!-- --> Flag Plus至少需要 4c8g 以上环境才可以发挥出优势，更低配置请使用 Aikar flag plus</strong>，Mukul1127 Flag Plus 需要 Java 17 以上!</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions -XX:+UseFMA -XX:+UseVectorCmov -XX:+UseNewLongLShift -XX:+UseFastStosb -XX:+SegmentedCodeCache -XX:+OptimizeStringConcat -XX:+DoEscapeAnalysis -XX:+OmitStackTraceInFastThrow -XX:+AlwaysActAsServerClassMachine -XX:+AlwaysPreTouch -XX:+DisableExplicitGC -XX:NmethodSweepActivity=1 -XX:ReservedCodeCacheSize=400M -XX:NonNMethodCodeHeapSize=12M -XX:ProfiledCodeHeapSize=194M -XX:NonProfiledCodeHeapSize=194M -XX:-DontCompileHugeMethods -XX:MaxNodeLimit=240000 -XX:NodeLimitFudgeFactor=8000 -XX:+UseVectorCmov -XX:+PerfDisableSharedMem -XX:+UseFastUnorderedTimeStamps -XX:+UseCriticalJavaThreadPriority -XX:ThreadPriorityPolicy=1 -XX:+UseZGC -XX:AllocatePrefetchStyle=1 -XX:-ZProactive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你使用Java 21 以上，你可以将<code>-XX:-ZProactive</code>换<code>-XX:+ZGenerational</code>，Java 22以上必须切换</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Mukul1127 (ZGC) Flag - 使用 GraalVM 时推荐</summary><div><div class="collapsibleContent_i85q"><p>GraalVM Java 17+ 的参数，</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions -XX:+UseFMA -XX:+UseVectorCmov -XX:+UseNewLongLShift -XX:+UseFastStosb -XX:+SegmentedCodeCache -XX:+OptimizeStringConcat -XX:+DoEscapeAnalysis -XX:+OmitStackTraceInFastThrow -XX:+AlwaysActAsServerClassMachine -XX:+AlwaysPreTouch -XX:+DisableExplicitGC -XX:AllocatePrefetchStyle=3 -XX:NmethodSweepActivity=1 -XX:ReservedCodeCacheSize=400M -XX:NonNMethodCodeHeapSize=12M -XX:ProfiledCodeHeapSize=194M -XX:NonProfiledCodeHeapSize=194M -XX:-DontCompileHugeMethods -XX:+PerfDisableSharedMem -XX:+UseFastUnorderedTimeStamps -XX:+UseCriticalJavaThreadPriority -XX:+EagerJVMCI -Dgraal.TuneInlinerExploration=1 -XX:+UseZGC -XX:AllocatePrefetchStyle=1 -XX:-ZProactive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你使用Java 21 以上，你可以将 <code>-XX:-ZProactive</code> 换为 <code>-XX:+ZGenerational</code> ，Java 22以上必须切换</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="以下是额外选项">以下是额外选项<a class="hash-link" aria-label="以下是额外选项的直接链接" title="以下是额外选项的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#以下是额外选项">​</a></h3><p>更激进的内联，在 Graal 中通过 <code>-Dgraal.BaseTargetSpending=160</code> （默认为 120）和 OpenJDK 中的其他一些标志。具有较大缓存的 CPU 可能会从中受益。</p><p><code>-Dgraal.OptWriteMotion=true</code> 和 <code>-Dgraal.WriteableCodeCache=true</code> ，它们看起来不稳定，但在 GraalVM 22.3.0+ 中可能更稳定</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Mukul1127 Flag (G1GC)</summary><div><div class="collapsibleContent_i85q"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions -XX:+UseFMA -XX:+UseVectorCmov -XX:+UseNewLongLShift -XX:+UseFastStosb -XX:+SegmentedCodeCache -XX:+OptimizeStringConcat -XX:+DoEscapeAnalysis -XX:+OmitStackTraceInFastThrow -XX:+AlwaysActAsServerClassMachine -XX:+AlwaysPreTouch -XX:+DisableExplicitGC -XX:NmethodSweepActivity=1 -XX:ReservedCodeCacheSize=400M -XX:NonNMethodCodeHeapSize=12M -XX:ProfiledCodeHeapSize=194M -XX:NonProfiledCodeHeapSize=194M -XX:-DontCompileHugeMethods -XX:MaxNodeLimit=240000 -XX:NodeLimitFudgeFactor=8000 -XX:+UseVectorCmov -XX:+PerfDisableSharedMem -XX:+UseFastUnorderedTimeStamps -XX:+UseCriticalJavaThreadPriority -XX:ThreadPriorityPolicy=1 -XX:AllocatePrefetchStyle=3 -XX:+UseG1GC -XX:MaxGCPauseMillis=37 -XX:+PerfDisableSharedMem -XX:G1HeapRegionSize=16M -XX:G1NewSizePercent=23 -XX:G1ReservePercent=20 -XX:SurvivorRatio=32 -XX:G1MixedGCCountTarget=3 -XX:G1HeapWastePercent=20 -XX:InitiatingHeapOccupancyPercent=10 -XX:G1RSetUpdatingPauseTimePercent=0 -XX:MaxTenuringThreshold=1 -XX:G1SATBBufferEnqueueingThresholdPercent=30 -XX:G1ConcMarkStepDurationMillis=5.0 -XX:GCTimeRatio=99 -XX:G1ConcRefinementServiceIntervalMillis=150 -XX:G1ConcRSHotCardLimit=16</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Dreeam Flag (G1GC)</summary><div><div class="collapsibleContent_i85q"><p>梦先生的参数</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseG1GC -XX:MaxGCPauseMillis=130 -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions -XX:+ExplicitGCInvokesConcurrent -XX:+AlwaysPreTouch -XX:G1NewSizePercent=28 -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=20 -XX:G1MixedGCCountTarget=3 -XX:InitiatingHeapOccupancyPercent=10 -XX:G1MixedGCLiveThresholdPercent=90 -XX:SurvivorRatio=32 -XX:MaxTenuringThreshold=1 -XX:+PerfDisableSharedMem -XX:G1SATBBufferEnqueueingThresholdPercent=30 -XX:G1ConcMarkStepDurationMillis=5 -XX:G1RSetUpdatingPauseTimePercent=0 -XX:+UseNUMA -XX:-DontCompileHugeMethods -XX:MaxNodeLimit=240000 -XX:NodeLimitFudgeFactor=8000 -XX:ReservedCodeCacheSize=400M -XX:NonNMethodCodeHeapSize=12M -XX:ProfiledCodeHeapSize=194M -XX:NonProfiledCodeHeapSize=194M -XX:NmethodSweepActivity=1 -XX:+UseFastUnorderedTimeStamps -XX:+UseCriticalJavaThreadPriority -XX:AllocatePrefetchStyle=3 -XX:+AlwaysActAsServerClassMachine -XX:+EagerJVMCI -XX:+UseStringDeduplication -XX:+UseAES -XX:+UseAESIntrinsics -XX:+UseFMA -XX:+UseLoopPredicate -XX:+RangeCheckElimination -XX:+OptimizeStringConcat -XX:+UseCompressedOops -XX:+UseThreadPriorities -XX:+OmitStackTraceInFastThrow -XX:+RewriteBytecodes -XX:+RewriteFrequentPairs -XX:+UseFPUForSpilling -XX:+UseFastStosb -XX:+UseNewLongLShift -XX:+UseVectorCmov -XX:+UseXMMForArrayCopy -XX:+UseXmmI2D -XX:+UseXmmI2F -XX:+UseXmmLoadAndClearUpper -XX:+UseXmmRegToRegMoveAll -XX:+EliminateLocks -XX:+DoEscapeAnalysis -XX:+AlignVector -XX:+OptimizeFill -XX:+EnableVectorSupport -XX:+UseCharacterCompareIntrinsics -XX:+UseCopySignIntrinsic -XX:+UseVectorStubs -XX:UseAVX=2 -XX:UseSSE=4 -XX:+UseFastJNIAccessors -XX:+UseInlineCaches</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Aikar&#x27;s Flag </summary><div><div class="collapsibleContent_i85q"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="通用">通用<a class="hash-link" aria-label="通用的直接链接" title="通用的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#通用">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="内存优化">内存优化<a class="hash-link" aria-label="内存优化的直接链接" title="内存优化的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#内存优化">​</a></h3>
<p>如果服务器内存足够，可以加上此参数 <code>-XX:-ZUncommit</code> ，要求 JVM 总是提前把要用的内存申请好，</p>
<p>并且阻止 JVM 把临时空出来的内存还给系统。这会加快短时间有大量内存的需求时的速度。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="大页支持">大页支持<a class="hash-link" aria-label="大页支持的直接链接" title="大页支持的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#大页支持">​</a></h3>
<p>注意在WINDOWS上使用大页，必须要以管理员启动</p>
<p>当然，在动手前，让我们先试一试是不是系统已经支持了这项功能 ，在控制台执行此命令</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -Xlog:gc+init -XX:+UseLargePages -Xmx1g -version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果出现了以下字样，那么说明不完全兼容：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">UseLargePages disabled， no large pages configured and available on the system.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>那么就说明当前系统并不支持大页，不过不要急，可以试一下这一行命令：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -Xlog:gc+init -XX:+UseTransparentHugePages -Xmx1g -version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果看到 <code>Large Page Support: Enabled (Transparent)</code> ，表示你的系统支持透明大页</p>
<p>但是如果你依然不支持或者想要追求极致性能，可以去百度搜索当前的系统如何开启大页，</p>
<p>这里就不再过多的赘述了。(LargePages对服务器提升相当巨大,在我的电脑上，它提升了50%的性能)</p>
<p>如果支持 LargePages ，加上此参数</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseLargePages  -XX:LargePageSizeInBytes=2m -XX:+UseHugeTLBFS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果支持 TransparentHugePages (不要把两个都加上，优先LargePages)，加上此参数</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseTransparentHugePages -XX:LargePageSizeInBytes=2m -XX:+UseHugeTLBFS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>在某些服务器上，开启大页后，会延长 JVM 的启动时间，时间从十秒到十分钟不等</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simd">SIMD<a class="hash-link" aria-label="SIMD的直接链接" title="SIMD的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#simd">​</a></h3>
<p>如果你使用的是 Pufferfish 的分支(Purpur，Leaf，Leaves，Gale)，你可以添加此参数</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--add-modules=jdk.incubator.vector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="下载源加速">下载源加速<a class="hash-link" aria-label="下载源加速的直接链接" title="下载源加速的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#下载源加速">​</a></h3>
<p>默认的 SpigotLibraryLoader 下载源在国内访问很慢，如果你使用的是Leaf，你可以添加参数使用国内下载源：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-DLeaf.library-download-repo=https://maven.aliyun.com/repository/public</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="中文编码">中文编码<a class="hash-link" aria-label="中文编码的直接链接" title="中文编码的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#中文编码">​</a></h3>
<p>防止乱码</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-Dfile.encoding=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title=" 复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="删除垃圾信息">删除垃圾信息<a class="hash-link" aria-label="删除垃圾信息的直接链接" title="删除垃圾信息的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#删除垃圾信息">​</a></h3>
<p>(仅适合Leaf或者Gale)</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-Dgale.log.warning.root=false -Dgale.log.warning.offline.mode=false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="更快的安全随机数发生">更快的安全随机数发生<a class="hash-link" aria-label="更快的安全随机数发生的直接链接" title="更快的安全随机数发生的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#更快的安全随机数发生">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-Djava.security.egd=file:/dev/urandom</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="异步日志">异步日志<a class="hash-link" aria-label="异步日志的直接链接" title="异步日志的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#异步日志">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> -Xlog:async</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>异步日志记录可能会导致日志记录的顺序不确定</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="更长的keepalive时间">更长的KeepAlive时间<a class="hash-link" aria-label="更长的KeepAlive时间的直接链接" title="更长的KeepAlive时间的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#更长的keepalive时间">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-Dpaper.playerconnection.keepalive=60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果你的网络不好,可以适当延长keepalive时间,打开<a href="/NitWikit/process/maintenance/optimize/go#use-alternate-keepalive">alternate-keepalive</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参数解释">参数解释<a class="hash-link" aria-label="参数解释的直接链接" title="参数解释的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#参数解释">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zgc-与-g1gc">ZGC 与 G1GC<a class="hash-link" aria-label="ZGC 与 G1GC的直接链接" title="ZGC 与 G1GC的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#zgc-与-g1gc">​</a></h3>
<p>废话不说，直接上图</p>
<p>ZGC</p>
<p><img decoding="async" loading="lazy" src="/NitWikit/assets/images/zgc-1d88bba5006d4dbfea21ef27a00c4c15.png" width="547" height="127" class="img_ev3q"></p>
<p>G1GC</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgsAAACKCAIAAACrTp7NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAg20lEQVR42u2d/2sbZ57H7y+5O9iTJc88jywkfA4i2GuMcOuU2sWoxF0EtRPEnlI7TqKN40TyCXUnxlZ8CK1loRWWLSQs4bPcIeYJGzaQJZhrSsnSkN0UTLpmszUsW1hoYSE/LPR+mJE0I81II1txHPkdXj+0sjwznvl8nvfzfL488y//ajIDAAAAtfwLbgEAAAAoBAAAgGYUwsRTAAAAp4f/4OlPOvl/t3RCIQAAAGjzE47/t45OKAQAAADt9UQdkYBCAADAaV9JQCEAAABoo5eTgEIAAMCpX0Z08lAIAAAA2tkIKAQAAABtoBAAAACgEAAAAKAQAAAAoBAAAACgEAAAAKAQAAAAoBAAAACgEAAAAKAQALxGhmYi8xNnbTWfexaSixM9TRzKHVzNRa67HTw18fTshN830n16bmPP9VQ+5h9yNPmLY0J8UevmAygEeINwZwb6XYP9rsGzZ+z1vunolb7W33fkwc424JkLeM68/hM1jX1YKLBsaFg9Tp2PFNn2WnCs3vU4rqfyKyFPn/S/l+KMpW/0lv/e6eWiuBGbbpVOGLxFb+RO2jyRTcbYWnDQ3uzNH4+JtTff1Ner1ma740zVnzMy/WnzggSgEKABfRPhVZEp/omrQmmMU/r8uelYQfk1VohNv2c/pCC5A+liMXn9HMcf5UT2s77YVulL4dEWDnDeqMjEqJdTfVIIu+v/vc7pFGOrM/IU2DmTZoWwW/mFXt+KyJgY9zmPdnnGblFLH1mTC4g1xgrhiZn48lRPs7YxmWAsN+uS/4Qh6YInE2I2FV9OyCRzIitEPu5VndQb2xJz8+oPARQCHG0o3GaMMVbMJZcT8eVUtsgYY2w7Nq6axJ2bzUjqUUgvJ+LLifSGJCq52aFDyIOQ36l276ZPZDs3vSxdqyiKrVYIno5HRVYQhsuLg2uprODm6v+W059kYtRbGoI9S1ss4au+4e7wBtuKeI5wbQZvUSsfWZNzDn9SZHnBzfHUFVhrfN/OeIKxRGX0TxXEYk7673SBMVYIu+2myYTycfQHcmwzNt5Xa1qhrCjGJyESUAjQCvoDOcYY2xAqi3rbgH+VMcaygcHKNy/GRMbYdsJX8cluz1KRMSZGvU0OH1PxbX0fNngipzeyyRhjbDPmHXCHC61XCM4diNx0VzIKy4Iy7tHj9dcOT665HNtcGK1EnNbYRmio9sjveUb7qMnmnhWanl83cYta+Miao9e3Iiosqte3UtBeLKqDnD193Vb1gsyfLESvjcgfqhTC6V9l6eu9deYfjVZ7AAoBDOBbYYyx5BWVO3FXUowxtjJV/mRYKDDG8oJb9etuIc+YcmZncP6b159UGj3RqJBnbCt66ayNmviWKITzfCBWmcZWkSrk1xPqEAernsN+KOR3GCuslb+W3BBZcU3vmOkCY4zlIxPNioTBW9S6R9Z8fEklS9KyScwKY9ZGU4fIiiK8aZuKM5YNuR22GoVwzqTFqjWu+haFCjWLYACFAIdViPhkla+Oea/4pz2DDUYl2znPFf/0z+VaHUMTc29MZKlpZ5PDX+2J3vfP+gZKMtOiNYTNebaSy52KVx1wVMg3OEX36JygGBkHZzMsHxpp+SMzeIta9ciak4ePl7Tn733e6CYTVwXPQL2pvWsuVx7ZHddSbHWmIp8KhXBcX8vOnat7JWPzmzV/O4BCgNYohMFR6XDB/aSfa/GJXkeU6RAKUcWlOBOjF+kxKcRre2TGsY7VSS9Rk0PKeIn5FcH3Ya/2esIVyMoKMTi7vubvkyspPKo8hHM6WW+SURGb4tJ5+DgUArw9CjES3GhwkPZRCM/SFlvzaw5kg+dctjZTCPtZXyxfFPOZhF5ULZkVGStm1wty2dxOMR+55OCpiT/niyi+uSLH8bZK8br0JmPbCd+NkkI4/ZFFD9fwktxCnhWC78PHoRCgRQpRbomoLZ9v0XDjDheaUYhyIb/EgJN7exSiP5BjO3IRUXUGYpOxzaVxZysUQv8WHZ9C2Aa8kbWkMHHWRq19Aw6b6rnUTj64AY9/aS2iKFXgzgw06MJRRpls7lnB37ilzuZPGpj6ACgEMKoQ0phS+dcwU/26FWIyoa7l18uvvgmF6JuYjy1odI0okhBi1Mt5hbBHPfY5p+IiyzdM2x75Fh2TQgxdCn86c147u6CtELo5KlvtQXr7B7tr8xCcW0g3brOYikMhoBCghQrR71uoFKS/FoWg3uUGpZaqE40FSvPuta3XqhAD3nCsaqa/tsXEfEpdpK/4JC3V2m4saYuEK5BlxfkxauLdwWjApYjGnI8UWUEYblWUSf8WHX8e4ogK4VsW86vqp7BeZKwQHK2tdrV7lgrxybpdh86ZNCtGPPBxKARoeR5iVMi/HoVwXEvVzx/qnGgq/prXEOrwiNwOrYpiNxNlcs3lWEYWBsdkIhkoFd6MhvKsGPEcqVTf4C06gQrBvec5r1/L5FupvtphocDWS+VM6o4508WYWLdml/PGRL08EIBCgCMphNuYQhyidNLmjW7r9jrpn8ifPOYok2dpS4yN84dSCJs3KorRi+WhsNefyoXddqmbOt+wwfiQ1a7Vt6iZR9Y7vpTbKhbSgaNcm/P8XFVDSSovsq1KH0kqu83YdmJaRyS0FaJshFUKMVo/Ee2cTjGWCfTDx6EQ4K3qmKOcZ2FLvybyUCdqvUKcjxTFmJc7lEIMCwUx6VdFyftm0tuJ8FJBXDlUE/Xr7pgbCmXlPEbCe5Rrc/SqNwdsMsrUlEK46z0Ohy8hMqVIAygEOHTYp3rXDXd4gzHGktcUcd6xha3qLRykTejY1uJY031VkwmRFaOVljd6tBO1WiH6/ElRyiI0rxBDgexOqZBfMUmfTjHGClHvAHf0yzN4i5q4k+5gRmSt77VuuUIszc4tBG/4p6/4wymR6bVV903Ft1uwVgNQCFDRg9L+bmt5qV59oyqbKg8ubKeYTSo3+FPvr2BcJD5eyO6wrMbrFoyd6P1AuljckhGlSxa3S58sXTrCPen1rYga44sRhbC5wxs1W045xoLrorgaOu8RsjuN+4oNXqGBZ9HUI7OPx8RWJy2aVghxI6VqodgQa9cQ1pGZ5DZjTHtrL27AH99m4nIL1moACgHkws3walFZM7mlv/u3cpdwceNoW0k7RqYXBe9PD3UiKZeu908RH2t28PVEclua44uRXTcW19ShfPvZCSG9Wdl+jhuYmM8yxthWZsnvOec4dEWTwWdh+JFxbiGbPVKFVRMKYXMHY6HacxmPMjncnmGt/omejxeyopgWJiAPUAjQ8sWE86xrsN812NPgHSzdPUZeNNQCju1E5ennRHg1V9lMtDmFsA+H1qJXykGk7n5vKJ7NRW94anq7uocmF9Lb5SE7MT30um9Rg69x7kB8JTR62HfvONwzEe0+6qpMtbK5mtW+I8i3Ur2N1fDcWnpuzKqZh9BgZHo+ND7YDV+GQgDQWnU85w0thK97+uuMku8HkpkFvUZox8+m5DeMOkfGb4TmPw2M6209pJSQ1YXxdngnmt0x0Gs98nGsZ5z1Mge+pey81wFbhUIAAACAQuDWAAAAFAIKAQAAAAoBAAAACgEAAAAKAQAAAAoBAAAACgEAAAAKAQAAAAoBAAAACgEAAAAKAQAAAAoBAAAACgGFAAAAAIUAAAAAhQAAAACFAAAAAIUAAAAAhQCnmY4ooU+JJfQajrxIzC6dn6ao9TG13ML9PxFYHlFyj5ovnHhbbTuLgkKAt0EkMqTrgFh3aUedr31COwyPIB0hyj8htgNifaxzzDSxHRDbAeHjuP8nQCEey4+D5qt/ZL59Mky0TS3qrVCId0JpdveuTO7OBUO/9e6F+dyj3+998+KvP7z6+7cv9r7+/O6vb34IZ9M0bmLJ0AYk647OLmqOU+4h4XclaGecdrhaeZHcU2LbJxZ9eSD7xLZPLBfqXWTHL0nnfUL3ie2A2F6Srj1KdmnnHV1/ppswjyYwRysGYz7Emu8TXZuRFELjcVwl9IDQ+3WNU9diCb9LyFPS9Zzwu4TLEPMHTR+k7S3qxCvEu8LdvR9+VPz7/os7DX/rYu7r7//5o9a/V395FBuGM1cpxD0qzW7qsafrhB1JYn2p9SsvCckYGFbShL4gXY2wviS2l/pfKF9AjUiY85S7T8kzan1C+F1ifUFsB6Sz4WojTWwHhKRhHkbHSsuu6ulb7zV/kEVq3SOWT3QVovZxmB+UTveEmo0bfFzHYg8I/ayx2JwqizrRCtEfZi9+qB7jGyrExe1vXqlE4dWrV9VH6IdLt0ghzDukS60KXftql9sxIBKLpOO/jjVeYeGhEK1jhvJ71QZzGIUojfgkaUwhLlAqn4sYX7B2pIlVcZ1d+9UW2+yVt7dFnViFeCd095vvy4P6D19//ocfDCnEu+t/LOnBqz//dn78HfnzD/8798V3pZ9897sAHFvBR9R8WYdMyZ2eas3RgrTsbPQeMX9UOaBiRkm5q81czGVqiRsNGlgeEi4Ef36jkaVMZcDt2iPcwyMphMlDyUtiOyC02FghJDnRjfvrrHVISQ+sX9KKxX5AzffKf0hzFguFOH4ubO5Vpv3f/yF/9V06/4Uxhch8XVKBRzdrVGflK/mw3/+fAN82sBgvCcBzqhnft3xZbzgoi0TXA9LEeW9R60HdgFKZUvC3M9gaf7bcI9yvNPzZ8hBFTTo3UxFZsj6kHa7KevSQCsFT82eljO7tugohzU6eU3NT6a5fUXnJ+0xjxlOJWe3Aok60Qtz5XJKDf/7wx8KMFBEyqBBXH34nfe1vD2c0vnDnC3ld8qci3NvoYvy5bgaPlyNLOl4arAhMU4lEckBsjw18My1HsTqOsIboUPxpnU9KU8uqGd8HlHtOrLuqLwMTT7k9WaT5ZHXE8tAKYfKUY0f1FKLzSaPCBE35KZYur6j1hVDJ5h/Dok6+Qvzwde4X75Q/NKgQof+Tv/aXu+9ofGEBCtGsPOjP0coC8ER3jCalCabltSlEs8t2pT+b79GuvXKVPeGVKceqg1+gZF81FAJJIbrUueUWKERpYKU5XYXoyBPby6YDjCaeduzIl6ddQ1E26cewqBOtEMLdh/mr76o+NBpl+t9v5CTEV7+u/annN98iymSk+UDyk65ndZfwLtoh5Sou1B3r36hCaBRKvSS2A0WQqqyCl6lVed7ag5cmmORXMJLS4Fisrk9tiUJ0pCh9orI9lUJcoPQl1ZCHC9Q80+jgqXqRz4584yjTabOot6ZjzqhCvJv/o1zn+u39S1U/KgWvkKmuV8knW631aZMR3lZFmVyUNJOHaFhQqyqUuiVfkkVPb+L15EeOUz9rorDy1NbFHUUh6lW7uij3jPDRWnkgZM/AwsJFSKnOtbo+1VUKmh2QzquwqHZVCGW1qzJO9WHsd399hWpXo5HlA9K1T+jRGt/M90uHuk8aqkKlwSpIrQek6xExsoboek64xWbGr7zumsb8QJ1Q0VygSJr3pPn+LCiE3vej1Eg3jDxPlypTX9ZtiGkkEpUI6h6txMc+oJ1PD1OF1fYW1YYKYeLfCf3m23LJ69/+8Nu7j74pN9D97cn6RXiyAYWosE86D7GxQalWveGMTKowqbilx3A7bq10hah1X7vlShngth0Q7k6VTxL+hVrJdEJY3DNEmVq8hugI0TrdMB25iimSPKVftmAwLS+UpRIsy2eVBrpm27Pb3qLaUiGoiafDt2u67V59+3lmBquHhhavqiUtV4g3mRXknpU88JEBj31kLKzUEJ22apmrpCxa3D3a9ZKScgNtkFqrwg7ohzgJUSaXnOyVFSJNLV8SfrEV13mLkr3qmRDX7Eh9CiyqXRXC/T8PvqndeOP7PRbC1kxNdNKR8tLb9qKJUKm53KS9Ty0uQ6uNww0oHb+k/JNKP0TnM2LbJ5xOw50U9aLP5JiAXIn4UP5RtZLV+HNHjnIhWMWxKoRcnPqccuU8RJxaWxG1N29qbLzRbPnpabCodlSID2Off1dZN/z+f+/cTPy2sp549e398DvwZON543LcyeBaWLEPhwEHkBKMxudWH1DzLWLJU/6JIvQslY7EqbVOgbyHkpek6wGp1CZKE8Bn1OwiZL8mb1nlz67SzoCfwCqOSyHkQCXlgqpaJm5Pp5uBN2pC5QWubZ/wKWpeVKwn9knnjLHjnA6Laj+FuPP530srhq+UKQd36EEpOfHqm81LcOamc3FGfL5DsQeDkUHfnCddB8S2V1M39QE1X6Ydd6glQzvvE36XUHU2susFsT4m/C7h8tSSoZbbpPNJvf4p8wNi2ycWj6p63bJLSJp25LQ2j1L7c6XbdheFTMekENI4LomBqtr1V9R6cPjZN/e89CgfqNaaHZsl0zXWiHdKLKrdFMLD5I6HV38q1mak50v9dK++XkdCwiiLpY0KGvUoKPdEayLe+hHtcFGTl3KPiPUZtT6ndLe0i/hD2pmhlgyhB8T2JTVfph0f1Zz0A41e1pp4MbUeED6l0QFr4im3q1XXq/Rn+Q4gynR8CiEFKst7LlV1zB2uoVqZ99bczancT9c4eXZqLKrNFOLC/W/rdjyUuyX++fUq/LnZtobHRuWh9jUvR0Svh87y2FBYoPNJZcCq9udbRLvjL13qnPJQfh9Z62NVCNmWFP381btuSAGo5kM05dIj7fq6crfES2qBRbWjQvz69//48ccff/zxH1+t6BTC3v2z3Cvx+W34s1RrSBq88sWAQnTcVshD8chXpdhrtuNOaQ3xgsoLi8fUKr0xYk8uYaJfUvN/1Q18KSaMRnfiTBJyj5o/kr/f2v4vKEQ9QtRaE+qp3ZdJVpHmSrFLlVH6ZRelzSgpdwsW1YYKsS4vEYwoxAL8mZp4aso0SjOU3p7Y9aiuSxt+G4S2120Sq9QS9bz8ojrC35fUqxJlMl/WqlNyUUuGdOhlO59p7N9gcBcQywPa9P7SUIijKITOuwK1d/8unYtsGn1A8hLBiEIE9fPnp8mi2kwhhFKaulGU6cdvNuHPVWmGZ8Ss16xQbztMSvdJa5KTrqajTMqSXOtTYv6geiXUuUurNqY17s+VULgLdnIsCiFtZrensdOX7jvmysb5lJoNvNShnKZuEGXSt5DTZlHtlqn+nyelZuq/fzH/btVPfatflYpe/8w88OeqpfcBsX5WL3zEXdZx6dbVv3dcULy8KFV+6XElyiTt0GB9TuRA01N1TnuRcrsNZmeG/NlFLY9KBfKQh+NRiBlK92WZ13tqmoH7skhIg68l1LiDQW/TYmmCbzsgtmY6t9vbok6mQsxsPvnmxZ6Kv5RqWH/8+7eqHz2IqX73UvFF+eVDr77746Piyu2Zqzdiud98oWix/uHzO2iJUHh1SrEJwRPaGZcTAJ0PK+EjTYevvL50n5BdRXSoBu524/hSZbjfJfxnZXmg5ltUijIZcS3++ZEV4gLlnx1mA4ZTiOV+9YOmpUm6Klq4S/jNehttddym9GW9d0TXUQgTT833VK/C7XpBLd66y5RSOyf/GTXfoubL1JxXtlg3V2LU3hZ1st8gZORfzZse+u988bd/1vmFVy/uYu+NOm1uGlh1JuaGXnBtpPi10dBvdD/wy9TaaDZX35/NGWp9eagNGE4lGrt46fG4Xk+M9XmDd67VVwgTTzuSpVfONYw1hSh9We9S+UyTMtnWFtWGCmHiaf8v1n/3J41DvPrr13dvu+HY2j52i5Ln1d7S9aLeG05aphBGql2N7H+ZbrwfuJ4/d9ySJ3rWh3iX3HEphItaHhGSafxkGyqEiaemT4jZ4PulP6Gdj2ntlKjrKTnEy0Hb26LemjzEoXBfvDET+nXxbi529cYVz7twaQN8QM2XqTlDzbc02tPe7EhEH9cNZN0jpZy5fiGKlj933JL38LA+VLzaHhwDLqNDpyGFOMSsSCqnlsKqh00PtLdFtbdCgHZZ38Q19lnTpGuP8vHG1SwWSQtTlDwj9Anl7iAjfbITHo9PbotZe1sUFAKcLjqfyBFhc5Kaf4Eb8pYoxAPKb5KTOea2t0VBIQAAAEAhAAAAQCEAAABAIQAAAEAhAAAAQCEAAABAIQAAAEAhXgMOj9/3nl31oW0qmlnwDNjxXN8cTm9sLezWegQ/X0gvTg05VF+eXilEb3jO2o500uG5RPTaiFXnp6NCYn5igGt0EKujG4/vFFjRVLSYi/gG6n3H5p6+4ubqfiGYSoUNGBUU4o1i80Q2xfiVynNyXEuxwtL4kJODj7We7iGvf/pKIz5NiYyx7dh4rbtOJlgx4e1TfuiNiix9w7in2TmtUWBYKLBizKs3M7B5IpssO+eu9yd8mhJ3CtpDEmgrK3KHC6lp6bD/OeK5rHH2cEpkTIxP9tY7zlAoy8SIp8rSBvrbbnr6dkeZHNdSjK3Nyp2W54IZOPlrhDvT66jy2FEhzxI+5Xds+vd/MsEKwrDyk4sxcXNhtJ4MjAQzheic7Lr+aIFtLo07tRRiZUrjjO8H4jH/8Bl7z4016dTcmYEeh9a1jQp5Vho4QLtZkXRep1VWCOlc3VYHtfb1yktPmz/JcrNDWmcc8Pg0ZCyUXE8Eryk/mZlfF9l2yv+eHQpxYnD6k9mQZC6cdyEqy77d6oBOvBZcl0PTSgeo9m1PZLMY9enM5qp92z4eE/PLgeoZXFJkGwuj/yl/zbfC4pOKI6T8Vt6wQowKeZYLj3SbnJeCN+vu6VszSIF2siITT7krKba5cJ53hwu5iLRQ2BBGy9MFt5BeHNNRl+6egaqwRK9/lW1FJqyIMp1U3MHVtfkbKgGPphKziojB/ATCyq8psqfwXrVvO66l2PZacKy7/uxPjvg7/UmtMMKwUMgvjpUdslohtJSgrBDceyMum964XxOhsnVbbVCIU2FF0i/mBbdiDVFKSxQS4Rv+6UgiflO1VPVU1MU5fD0UvOguLX3sw0JuKznjslET7/SGBE8fNfGUcwvZgn6oEwpxzAoRLigGjtr5YNU6FLQwsjeZEJkYvWiv9m2bJ7KpFeUrL9IjOVZMBT9NiUyMT/YOC2txn7M2nnA+UswLlfl+jUL4awPZwWSRZZembyxldxjbEIa1x31VwEqKCYirM0NQiFNgRfoK4Q4XCuHRGhFK+qsWDb4Vka0H+nn72Sux9OJED09NPO2ZTIg7hejkIDfgj2+shb2DVqwhoBCnHk+kyMSlCbVv24eFNZ3kXmnyrowP9M3El6d6ePuwsJaeG1P6lW+F1VWIqdpAtn4eIqQc91WH4qlvhSWvdWMNcRqsSEsh7I4z3UqFGJ2cOS+tADSXqlKB06iQZ2I+k4rOLwSX1sTNmHfAbvrpxOzNibNtmsSCQoDmq0tvLs26VbM/zh0I+iqO3fOx31ubr6v4dq9PCMgzfZsnssnE2CWHvkJkI6WJfyRXP8pUW9oYr6sQlf+FQrSxFUnrj0huKxmavhJKFnORK37/4prIilHvRFkhfCtMXJ3p1w9mKnOcnDuQXlWkMZCHgEKcZs7+bEq7KjGU2mK5SNWHN2J5xjSKOiq+rUoJOK6lGCsE3ze6hjDxdDigaoAwrhAVsbnij2ShEKfEiuyOvnKqeSpaiPkGNaJMvhWWvu7UT3fZHaNTs1fcVp5ax0LJ5RmXjZren5kPTZy19XoCC5H50PiHvYgynSCFUHp7jcHB21ubWnT2nLEftQSotk6xXJC2nfA6FeN4YNDUIFN9bjbDxOWpHqwhYEUGrMjEU5PTfX6k28RPxeWyZklgVAoh20OVQjh6RycXktlUcKzbNOgJLuW21pf80lBz+dLsiiilvriBicgGE5cr6xgoxButZcoUwmNS68ql2Ul1P+37M9GlqX445DHQEt/m7VaHnRuYCApTLn5wNqM/jitcl/PGRCb7NhQCVlTfikw8dc3l2HbC11cyCac/uZ3yv1dWCPt0UlsheiYTW9lSQMnmmV/PReYunf/5QnpV8PRRk80bXQ+V8iLe+dAE1hAnhVJmyT4sFMRCTFFhjX6Ik+zbdsfoVDi6NF3uTnKMTMfWkiGpPqQ6fqhf7eqeFY66hsiHRqAQp8GKFCVSkknYz0eKbEMYdZQVwh0uFOUe6eook1Ynv14o23ZuCB1zb5ihUHCSmnjqXWbiemCIpya+dzopso2QVLlodTiHb6bSKyFs0HSSfNvuuJ5iYjG7katsoeMY8S2ubW0kpke69TJMTfVDNJuHqISqoRBtbUWuwFo6cK5iEqOh/I7UQe2JFAvhUWqyTcXZmt9ZMrPYpeoq29pQdjEVrP58JrrB2PbabBvt7PDWKYR9PFqMXiw1xVQ8PBSdk/7bPn1lSlpYMCZGfU544Jv1bYd7Kry0lt1mTCxEr8ltR9x7l8IrBZGx7GJVmeBUnBXCbtqaWiZVtetIcIPFfaojp28MQiHa34pGQ9FQeSe+iVkhENkob7s05rs2YpWClpmAHJp2dCui1rUN1aerHObtUgi763pKZDlpIyaVQiiT2MvSYuLcbIbpV62B45r99fmTopgW1D7cN5Nmql0XZVyBrKIiRWMNsTrjMK4QqstzukZUp1Nt5gqFaF8rcvT1coookD8l5gX11q02KcTUO3pzKTrn7XcYu2YoxInjpzNpUcxHvI7SuLC1NFFtHH0zaZYLjnSbeMq5/dPYyO8ExAc0N9buGZAdu2dw5Kxc4mIfFgpMtQubO7whRn9e+t/BsfNakUNjCqFFebboFvIs4cUDbU8rKg8OE/OZYvL6ObU8nPOnCuUPez5eyu+IaUHumoZCvM3vh/DFtnaYxj8xF4QwHJ9v50p76x4Sa9+YT0jkS48yK8eLGxcd9HsC4dhavlgUd5gY9R5KIQbP34jlt0VRZOU8Fmg7K6Im3n52YiGdjSlyFdKHQnK96kPKuYU8E6VQdr1rFmPjUAgA6vpJKJ1ZqN2O+zD0+ePFQvTKuWbf7WH9eCmfWfD0af30/UB8NaTYgk0bac+16fcwq2hTK+ob8wuC/2eqYBQ3eCm4KPg92jspDc8tae8ErrzmrDAKhQAAAHBqgUIAAACAQgAAADDMf0AhAAAAaPKTTh4KAQAAQIN/t3RCIQAAANQsIDjtBQQUAgAATnsG4t86OqEQAAAAqlcPdeQBCgEAAKdx3fCTTl4v96BSiIbfAAAAcDqBQgAAAIBCAAAAgEIAAACAQgAAAIBCAAAAgEIAAACAQgAAAIBCAAAAgEIAAACAQgAAAIBCAAAAgEIAAAAAUAgAAABQCAAAAIdQCGyVDgAAQBMoBAAAACgEAACAZvh/khhgG4TV9AoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMDctMDFUMDA6NDY6MDYrMDA6MDBqfNnXAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTA3LTAxVDAwOjQ2OjA2KzAwOjAwGyFhawAAAABJRU5ErkJggg==" width="523" height="138" class="img_ev3q"></p>
<p>显然,单次GC时间从32ms降到0.012ms</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jdk">JDK<a class="hash-link" aria-label="JDK的直接链接" title="JDK的直接链接" href="/NitWikit/process/maintenance/optimize/jvm-optimization#jdk">​</a></h2>
<p>TODO</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/postyizhan/NitWikit/tree/main/docs/process/maintenance/optimize/jvm-optimization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>Radiation-pi</b> <!-- -->于 <b><time datetime="2024-07-05T04:16:58.000Z" itemprop="dateModified">2024年7月5日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/NitWikit/process/maintenance/optimize/ask-for-help"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">怎么让大佬帮我性能分析</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/NitWikit/anticheat"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">反作弊</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#参数">参数</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#以下是额外选项">以下是额外选项</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#通用">通用</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#内存优化">内存优化</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#大页支持">大页支持</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#simd">SIMD</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#下载源加速">下载源加速</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#中文编码">中文编码</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#删除垃圾信息">删除垃圾信息</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#更快的安全随机数发生">更快的安全随机数发生</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#异步日志">异步日志</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#更长的keepalive时间">更长的KeepAlive时间</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#参数解释">参数解释</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#zgc-与-g1gc">ZGC 与 G1GC</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/process/maintenance/optimize/jvm-optimization#jdk">JDK</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/NitWikit/intro">开始</a></li></ul></div><div class="col footer__col"><div class="footer__title">交流</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://qm.qq.com/q/dENGavSflK" target="_blank" rel="noopener noreferrer" class="footer__link-item">QQ群<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">文档仓库</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/postyizhan/NitWikit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 <b>postyizhan</b>, All Rights Reserved.</div></div></div></footer></div>
</body>
</html>